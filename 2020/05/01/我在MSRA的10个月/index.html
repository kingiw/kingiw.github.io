
<!DOCTYPE html>
<html lang="zh">


<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#202020"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
  
  
    <meta name="keywords" content="杂记," />
  

  
    <meta name="description" content="Shape a better me." />
  
  
  <link rel="icon" type="image/x-icon" href="/logo.png">
  <title>我在MSRA的10个月 [ Zihui Liu ]</title>
  
    <!-- stylesheets list from config.yml -->
    
      <link rel="stylesheet" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css">
    
      <link rel="stylesheet" href="/css/xoxo.css">
    
  
<meta name="generator" content="Hexo 4.2.0"></head>


<body>
  <div class="nav-container">
    <nav class="home-menu pure-menu pure-menu-horizontal">
  <a class="pure-menu-heading" href="/">
    <!-- <img class="avatar" src="http://kingiw.github.io/images/logo.png"> -->
    <span class="title">Zihui Liu</span>
  </a>

  <ul class="pure-menu-list clearfix">
      
          
            <li class="pure-menu-item"><a href="/" class="pure-menu-link">首页/Homepage</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/archives" class="pure-menu-link">归档/Archives</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/tags" class="pure-menu-link">标签/Tags</a></li>
          
      
          
            <li class="pure-menu-item"><a href="/about" class="pure-menu-link">关于/About</a></li>
          
      
  </ul>
   
</nav>
  </div>

  <div class="container" id="content-outer">
    <div class="inner" id="content-inner">
      <div class="post-container">
  <article class="post" id="post">
    <header class="post-header text-center">
      <h1 class="title">
        我在MSRA的10个月
      </h1>
      <span>
        
        <time class="time" datetime="2020-04-30T16:28:11.000Z">
        2020-05-01
      </time>
        
      </span>
      <span class="slash">/</span>
      <span class="post-meta">
      <span class="post-tags">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%9D%82%E8%AE%B0/" rel="tag">杂记</a></li></ul>
      </span>
    </span>
      <span class="slash">/</span>
      <span class="read">
      <span id="busuanzi_value_page_pv"></span> 点击
    </span>
      <span class="slash">/</span>
      <span class="read">阅读耗时 33 分钟</span>
    </header>

    <div class="post-content">
      <p>4.30正式从MSRA离职了。从7.4入职到现在我已经在MSRA工作了将近10个月的时间，这段经历也给予了我很多的体验与反思。我希望在本文中把自己这段时间里的各个方面大概记录一下吧。</p>
<h2 id="到MSRA之前"><a href="#到MSRA之前" class="headerlink" title="到MSRA之前"></a>到MSRA之前</h2><p>去年4月的时候我还在超算队里面准备ASC，4月底的比赛中拿到了ePrize（感谢wyf大腿带飞），CESM全场性能最佳直接带飞我们队。尽管最后惜败清华拿了第三，但这已经是SYSU超算队建队以来最好的成绩了，还阴差阳错地拿到了去ISC的门票<del>（法兰克福一周游）</del>。</p>
<p>五月份一边准备ISC，一边准备托福，一边就想投MSRA。我那时候寻思着自己那么菜，只要有人捞我我都会无脑选择去的。我一边找响哥内推，一边在官网上投简历。当时发现有一个组有一个自己独立的招聘邮箱，也没管那么多就投了。过了大概一周就有两个人来给我面试，先是问了我在ASC里搞的关于Image SR的事情，然后让我用c实现了一个vector。题目没有太多技术难度，但是当时的面试官非常质疑我做SR的criteria，我感觉自己费尽口水了也没有解答出对方的疑惑。（然而事实上这冥冥中已经暗示了我未来工作中要面对的事情了hhh）面试后过了大概一周就发了offer，我也没问太多内容就接下了，7月入职。</p>
<p>六月份也是忙碌的一个月：月底ISC+裸考托福，7.1考完编译原理，7.3就马不停蹄地到北京去了，晚上久违地和包括zzy在内的高中同学聚餐。7.4入职。</p>
<h2 id="我在MSRA"><a href="#我在MSRA" class="headerlink" title="我在MSRA"></a>我在MSRA</h2><h3 id="MSRA初期-7-9月"><a href="#MSRA初期-7-9月" class="headerlink" title="MSRA初期(7-9月)"></a>MSRA初期(7-9月)</h3><p>我在MSRA的NRG（网络研究组）做Bot Detection，我的Mentor是Yang，组里大老板Xiong统筹兼顾，小老板CP日常参与到各个项目的讨论当中。这段时间做的事情包括重新评估之前做的一些基本实验，还有就是自己试着各种法子在Log上挖掘pattern，此外开发我也负责一些代码的移植工作。</p>
<p>7月份面对第一份工作的斗志在短短2个月内就被消磨殆尽。在那个时候压力来自多个方面。第一，目标不明确。我不知道自己到底是做学术探索还是在为产品组提供基础服务，Yang总是说希望我能发Paper（但我这个菜鸡何德何能呢），而CP却总是以产品需求出发去提出各种意见。第二，课题难度巨大。难度体现在多个方面，包括缺少Benchmark与科学的数据集，以及老板们提出的，在我看来是不可能解决的一些问题，例如可解释性机器学习模型。当时的我每天花费大量时间在看各种新的解释性模型上，事实证明我一个小菜鸡是不可能做到在Bot Detection上搞定可解释性机器学习的问题的；第三，每周的讨论总是让人异常压抑，每次我po出实验结果，接着就会被反问“False Positive里面的数据是怎么样的？”，“一个黑箱模型有什么用？”，“我需要可解释的Rule”，讨论总会以我和CP吵到会议室预约时间到了才不了了之。每周如此循环，到了后面几乎有一种开会恐惧症了。</p>
<p>9月中，我已经有了离职的想法，然而Yang直接给我续了3个月（因为入职前我们聊好是做6个月的），为此我和Yang也argue了一波。当时和Yang聊了好几次，他给了我关于未来工作的构想<del>（虽然后来事实证明很多都是空想）</del>以及其他建议。另一方面，沟通中我也更深入地了解到了Yang的个人生涯，了解到他将近十年的本硕博经历、来MSRA工作的机缘巧合、作为开源社区的贡献者的种种。最终我还是选择了继续留在MSRA。</p>
<h3 id="10月上旬与中旬"><a href="#10月上旬与中旬" class="headerlink" title="10月上旬与中旬"></a>10月上旬与中旬</h3><p>10月份连着国庆放了小长假，这期间主要是和女票去成都度假，回校体育课考试+体测以及考GRE。这期间收到了Google Onsite面试的通知，于是乎10.16一大早就坐上了飞往上海的飞机。</p>
<p>仅仅只是用了5个小时的时间就从学校宿舍辗转到了陆家嘴，到那以后第一件事就是去医院：来的前一天突然严重喉咙疼+感冒。完事以后checkin谷歌家安排的酒店：金贸大厦双人间，这也是我生平住过的最棒的酒店了<del>暗示了我的贫穷</del>。晚上zx大哥带我进Google里逛了一圈，工作环境是真的好，办公室中有各种手办、乐高积木、仓鼠、LGD队旗等等，餐厅里的食物也比MSRA饭堂好吃。之后一个人到外滩附近逛了逛，有一说一那些花几十万在外滩建筑上po表白信息的人是真的有钱<del>再次暗示了我的贫穷</del>。</p>
<p>第二天Google面试，四轮技术+一轮HR面。技术面全部是算法题，我第三第四面感觉一般般，但面试官都很友好，最后一位面试官还和我聊了一下近况和未来发展的建议。面完后大概两周后HR给电话说过了onsite interview，要了成绩单，又过了几天通知挂在了Hiring Commitee上。只能希望他日还能有机会加入G家了。</p>
<p>10.20早上GRE，在爆肝了大概两周后考了个155+170+3.5。下午体测，带病狂奔一千米，比大一时的自己慢了将近一分钟，应该好好反思了。10.21最后一节健身课，一周前还只能拿60分的我在一周后已经能够拿到满分了。<del>BTW，SYSU大四上体育课的设定真的恶心到我了。</del></p>
<h3 id="MSRA中期-10月底-12月"><a href="#MSRA中期-10月底-12月" class="headerlink" title="MSRA中期(10月底-12月)"></a>MSRA中期(10月底-12月)</h3><p>这段时间一直在准备申请的事情，所以在实习工作上积极性变得不高。这期间做的东西也非常琐碎，包括做一些异常流量案例分析、Distributed Bot Graph Visualization等等，这些事基本上也都是没啥用的玩意儿，做了一些基本的调研，在PPT里汇报一下就没有下文了。真正有用的玩意儿可能就是后来发现了Boxmodel，然后自己在Scope上写了个缓存Boxmodel Mouse Data的模块吧。</p>
<p>有一说一，这段时间感觉自己很佛系。抛掉了前一段时间里的那些“虚无缥缈”的Pattern Mining，专注于做一些相对简单，目标明确的工作，Yang给我安排做什么我就做什么。有种温水煮青蛙的感觉，但至少精神压力减小了，而且也逐渐发觉自己非常需要去做一些目标明确的事情，也意识到可能自己更适合去当一个码农吧。</p>
<h3 id="MSRA后期-1月-4月"><a href="#MSRA后期-1月-4月" class="headerlink" title="MSRA后期(1月-4月)"></a>MSRA后期(1月-4月)</h3><p>这段时间转向做Mouselog的开发以及使用鼠标数据做Bot Detection。Mouselog可能是我在MSRA里做的唯一一个有点意义的工作，因为它最终被移交到了公司内其他产品组，并且能够在产品组的客户端真切地看到自己的代码正在运行（已交代码时我是怂得很的，因为代码并没有其他人review，我和Yang也只是在多个平台上做了一些基本的测试而已，谁都不知道这东西上线了会引发什么问题）。这件事情还是有一点成就感吧，用老板的话来说就是make some impact。后面就是自己搭了个网站，用Mouselog在内部搜集了一些数据，做了一些基本的data analysis，但这部分的内容更多的也只是服务于我自己的毕设罢了，并没有指望能够有更大的意义了。</p>
<p>我在1.19离开公司回家的，本来想着是回家过个年放两周假就回京了，没想到因为疫情这一别竟（有可能）成为我和丹棱街5号的永别了。正式checkout的那一天把工卡寄回给公司时还颇有不舍。</p>
<h3 id="MSRA的人和事"><a href="#MSRA的人和事" class="headerlink" title="MSRA的人和事"></a>MSRA的人和事</h3><p>MSRA实习中带给我最大的财富应该是人脉了吧。在这里我认识了组里的各位大佬们，也和很多Intern度过了非常美好的一段时间。</p>
<p>我所在的NRG整个氛围都非常不错。尽管各司其职，但来往也都挺密切的，虽然学术问题上可能会有些争吵（没有争吵就奇了怪了），但组每个人都非常nice。到了11月的时候Xiong还推出了Mentor和intern们每周聚餐的活动，听大家坐一起聊天真感慨良多。</p>
<p>我不知道在这里直接聊上级是否合适，但我非常希望聊聊我的Mentor。Yang作为我的Mentor，在我的实习时间里对我的影响无疑是最大的。虽然他是我的上级，但我还是会像其他人那样叫他杨哥。尽管他是一个北大博士生，但比起做学术研究发paper，他似乎更喜欢写代码做实实在在的项目，而他对写代码的热情与对各种黑科技的钻研态度带给我深刻的影响。他也作为一位开源大佬带我一点点加入到开源社区当中。我在MSRA的工作中最快乐的日子应该就是和杨哥一起开发项目，讨论一些项目细节的实现了。在我看来，杨哥是一个脑洞很大，我总觉得他有很多奇思妙想，碍于时间关系没有办法实现。杨哥也是一个很会“推销”自己产品的一个人，他的slides里总能用各种方法来向产品组阐述自己的设计的优越性。和杨哥的合作尽管没有什么学术产出（是我太菜不是杨哥问题），但在开发经营产品这件事情上还是能够学到不少东西。</p>
<p>我们组的intern尽管大家做的项目各不相同，但私下联系还是挺密切的，中午会一起吃饭，吃完就在茶水间那里带薪聊天，谁checkout了会请大家和奶茶，偶尔还会去吃顿火锅啥的。Ziyuan和Hongming应该算是intern里的老大哥了（呆的时间久），总是可以从他们口中听到NRG这几年来的各种八卦（大胃王比赛什么的）。Congyu和我是同期入职（也几乎同期离职）在申请学校的过程中颇有种“相依为命”的感觉。Linfeng秀恩爱很有一套。清华大佬Dan和Yi、工位在我旁边的北大大佬Houmin都给过我许多建议与帮助。我也曾经和组里的韩国小哥Changho聊过一点，了解了很多韩国的情况。</p>
<p>每周三的桌游社狼人杀是我绝不缺席的活动，也是在那里我认识了MSRA很多其他组的小伙伴，包括像在我校传颂的14级三年国奖，号称入学三天达到博士毕业要求的神仙gdy，每局必查杀gdy的nlp科学家xcw，高配玩家xys以及潇帝兆阳旭哥zcmm lblmm sjn xss阿攀老陈社长夫妇等等。打出过许多精彩的配合，也有过像“中大四狼”的憨批时刻。</p>
<p>在MSRA实习的日子里面我还是比较宅的。一开始自己租房子住的时候周末基本都不怎么出门，到后来回到洲洋（公司给外地实习生安排住宿的宾馆）住以后周末也都是回公司干(mo)活(yu)。偶尔还是会和公司的其他intern一起去玩耍。印象尤其深刻的是和星星酱等人去怀北滑雪，还有旭哥博航带队去北大未名湖上滑冰，这也是我第一次滑雪和滑冰。</p>
<h2 id="关于留学申请"><a href="#关于留学申请" class="headerlink" title="关于留学申请"></a>关于留学申请</h2><p>尽管这部分内容和MSRA没有太大关系，但这也是我过去10个月里面主要在做的事情，在这里就一并记录一下吧。</p>
<p>我考了三次T+两次G。六月底去MSRA实习之前裸考了一次T，然后9.7/9.8两天连着考了第二次T和第一次G，10.20考了第二G(V155+Q170+W3.5)，11.3考了第三次T。总体来看战线拖得有点长了，而且真正全身心准备GT的时间其实也是挺短的，可能加起来还没有两周（千万不要模仿我这种危险行为）。最后一次T的成绩出来之前心里一直忐忑不安，查分时看到是109(S25)时还是非常激动的。（感谢我的女朋友在那段时间每天和我语音练习口语）</p>
<p>文书基本都是自己写的。一开始在admitwrite上找了个导师，然而后面想想还是决定自己操刀（白花了2k）。中间有用过fiverr的proofreading，价格几十到几百块不等吧，主要还是改改语法。有向往届的师兄师姐们寻求他们的建议（尤其感谢Tianqin给我改了好多好多），同时自己也帮过一些朋友改他们的文书，通过看别人的文书里的内容反思自己的文书吧。</p>
<p>总共投了14个项目吧，除了USC发了ad，NEU发配边疆，剩下的(MSAII/MCDS/INI@CMU, Yale, MCS@UIUC, EECS@Berkeley, UCSD, MSCS@Wisc, UCLA)都发了拒信，Purdue和UCI至今没有音讯，估计也是拒了。结果挺糟糕的，自己三四月的时候心态也是挺爆炸的，反思一下问题主要是在于自己的短板太多了：现在Applicants太多了，仅仅是GPA高已经没有任何竞争力，没有暑研/Publication/交换/海外牛推，再加上自己本科所在学校比较一般，注定着只有收rej的命运。概括而言，我感觉是学校+GPA+Publication+海外牛推+交换，这五个里面至少要有两个才能够拥有足够的竞争力吧。</p>
<p>最后考虑到申请结果不太好，而且美国受疫情影响严重，且经济不太好，很多公司都在裁员，就决定暂时放弃自己的留学梦投身春招大军中啦。</p>
<h2 id="反思"><a href="#反思" class="headerlink" title="反思"></a>反思</h2><p>在MSRA实习的十个月带给我颇多的收获，也让我对我该做什么事情有了很深的反思。</p>
<p>最重要的一点是MSRA的实习经历让我意识到自己可能并不适合读博吧。我感觉自己在MSRA里做AI for Bot Detection，做可解释性模型的课题真的是一个天坑，到后来我对这一块的内容有极大的恐惧感（这也是我选择做到4月底而没有继续续的最重要原因）。在每个人都是搞FPGA，搞硬件，搞网络的组里，没有人告诉我DM、Explanable AI应该往哪个方向去做；跑完实验后不知道得到的那些Accuracy，Precision数字究竟有什么意义；没有什么参考文献，没有相关的benchmark。当然，这一切的原因也可以归结为是我太菜了，但至少从结果而言，我在MSRA的科研产出可谓为零，我像一个无头苍蝇一样在一个领域里面原地打转。在这个过程当中我或多或少也算是经历过了一次科研经历吧。经历过这次以后我愈发觉得自己不适合去独自钻研一个根本没多少人在公开研究的课题。相对的，我也受到Yang的影响，逐渐发掘出自己对写代码、对做一些能够给公司中其他组带来影响的轮子更高的热情与动力。还有就是自己决定要退坑AI和算法了。</p>
<p>其次，被全聚德的经历让我认识到了自己经历上的严重缺失，同时也为自己过去的一些抉择感到非常的遗憾，并充分地意识到作出一个正确的选择是一件多么重要的事情。曾经我也是被其他人欺骗说申请Master只需要高的三维就好了（哪怕是今天依然有无数的人用着三四年前的标准来给申请者建议），然而每年申请CS的人数水涨船高，早就不再是那个只看三维的年代了。如果真的需要申请好一点的学校，一定要在科研界里做出一点成果（哪怕跟着一个大佬打杂混个N作也是一种参与过科研的“硬性证明”，或者是去海外交换、去暑研争取拿到推荐信。GPA三维什么的能看就ok了，非ACM Final级别的比赛基本没有任何意义。我现在也只能是后知后觉了，只希望看到这里的你如果希望申美国好一点的CS项目，就尽可能不要步我的后尘吧。</p>
<p>在MSRA里的认识的人和经历的事情让我在心态上有了非常大的转变。在MSRA里认识到了很多神仙大佬，但同时也了解到了不少人坎坷的经历。。MSRA是一个神仙齐聚的地方，在这里我认识到了一年发好几篇顶会的神仙，认识到了很多科大少年班的神仙，认识到了比我年长一岁却今年已经要博士毕业的神仙。但另一方面，我也在MSRA里认识了考上北大因各种原因肄业重新高考的同事，认识了大三时抑郁症、大四直博前两天被导师放鸽子的清华大佬，还了解到杨哥也在读书的日子里遇到的不少挫折。我逐渐摆脱脑子里的“勃学”态度，慢慢开始接纳自己的各种失败。说到底，我也只是没能正确地利用自己大三大四这两年的时间做出点成绩收获好一点的结果罢了。未来还有很长的时间，浪费一两年的光阴来试错并吸取教训，未来或许能走得更好吧。只希望自己能够不再好高骛远，坦然认识并悦纳自己不足，在做选择的时候更加谨慎小心，少一点攀比之心，在成果上多一分佛系的态度，自己能够收获舒适、幸福与成就感便足够了。</p>
<p>Anyway，10个月的实习日子确实要结束了，这也意味着我的人生剧情中旧一章画上了句号。我期待在下一篇章中自己会遇到的有趣的人与事，也希望自己能够把握自己的态度，变得越来越强，同时找到自己所认同的幸福感吧。</p>

    </div>

    <div>全文完。</div>
  </article>
  <div class="toc-container">
    
  <div id="toc" class="toc-article">
    <strong class="toc-title">目录</strong>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#到MSRA之前"><span class="toc-text">到MSRA之前</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#我在MSRA"><span class="toc-text">我在MSRA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MSRA初期-7-9月"><span class="toc-text">MSRA初期(7-9月)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10月上旬与中旬"><span class="toc-text">10月上旬与中旬</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MSRA中期-10月底-12月"><span class="toc-text">MSRA中期(10月底-12月)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MSRA后期-1月-4月"><span class="toc-text">MSRA后期(1月-4月)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MSRA的人和事"><span class="toc-text">MSRA的人和事</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于留学申请"><span class="toc-text">关于留学申请</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#反思"><span class="toc-text">反思</span></a></li></ol>
  </div>


  </div>
</div>
<div class="copyright">
    <span>本作品采用</span>
    <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noopener">知识共享署名 4.0 国际许可协议</a>
    <span>进行许可。 转载时请注明原文链接。</span>
</div>
<div class="share" style="width: 100%;">
  <img src="https://kevinofneu-blog-static.oss-cn-beijing.aliyuncs.com/static/2018-12-10-qrcode_for_gh_ffacf5722095_258.jpg" alt="Running Geek" style="margin: auto; display: block;"/>

  <div style="margin: auto; text-align: center; font-size: 0.8em; color: grey;">老铁们关注走一走，不迷路</div>
  
</div>

  


    </div>

    

  </div>
  <footer class="footer text-center">
    <div id="bottom-inner">
        <a class="bottom-item" href="https://github.com/kingiw" target="_blank">GitHub</a> |
        <a class="bottom-item" href="https://hexo.io" target="_blank">Powered by hexo</a> |
        <a class="bottom-item" href="https://github.com/KevinOfNeu/hexo-theme-xoxo" target="_blank">Theme xoxo</a>
    </div>
</footer>
  

<script>
  (function(window, document, undefined) {

    var timer = null;

    function returnTop() {
      cancelAnimationFrame(timer);
      timer = requestAnimationFrame(function fn() {
        var oTop = document.body.scrollTop || document.documentElement.scrollTop;
        if (oTop > 0) {
          document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
          timer = requestAnimationFrame(fn);
        } else {
          cancelAnimationFrame(timer);
        }
      });
    }

    var hearts = [];
    window.requestAnimationFrame = (function() {
      return window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        window.oRequestAnimationFrame ||
        window.msRequestAnimationFrame ||
        function(callback) {
          setTimeout(callback, 1000 / 60);
        }
    })();
    init();

    function init() {
      css(".heart{z-index:9999;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}");
      attachEvent();
      gameloop();
      addMenuEvent();
    }

    function gameloop() {
      for (var i = 0; i < hearts.length; i++) {
        if (hearts[i].alpha <= 0) {
          document.body.removeChild(hearts[i].el);
          hearts.splice(i, 1);
          continue;
        }
        hearts[i].y--;
        hearts[i].scale += 0.004;
        hearts[i].alpha -= 0.013;
        hearts[i].el.style.cssText = "left:" + hearts[i].x + "px;top:" + hearts[i].y + "px;opacity:" + hearts[i].alpha + ";transform:scale(" + hearts[i].scale + "," + hearts[i].scale + ") rotate(45deg);background:" + hearts[i].color;
      }
      requestAnimationFrame(gameloop);
    }

    /**
     * 给logo设置点击事件
     * 
     * - 回到顶部
     * - 出现爱心
     */
    function attachEvent() {
      var old = typeof window.onclick === "function" && window.onclick;
      var logo = document.getElementById("logo");
      if (logo) {
        logo.onclick = function(event) {
          returnTop();
          old && old();
          createHeart(event);
        }
      }
      
    }

    function createHeart(event) {
      var d = document.createElement("div");
      d.className = "heart";
      hearts.push({
        el: d,
        x: event.clientX - 5,
        y: event.clientY - 5,
        scale: 1,
        alpha: 1,
        color: randomColor()
      });
      document.body.appendChild(d);
    }

    function css(css) {
      var style = document.createElement("style");
      style.type = "text/css";
      try {
        style.appendChild(document.createTextNode(css));
      } catch (ex) {
        style.styleSheet.cssText = css;
      }
      document.getElementsByTagName('head')[0].appendChild(style);
    }

    function randomColor() {
      // return "rgb(" + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + "," + (~~(Math.random() * 255)) + ")";
      return "#F44336";
    }

    function addMenuEvent() {
      var menu = document.getElementById('menu-main-post');
      if (menu) {
        var toc = document.getElementById('toc');
        if (toc) {
          menu.onclick = function() {
            if (toc) {
              if (toc.style.display == 'block') {
                toc.style.display = 'none';
              } else {
                toc.style.display = 'block';
              }
            }
          };
        } else {
          menu.style.display = 'none';
        }
      }
    }

  })(window, document);
</script>

  



</body>
</html>
